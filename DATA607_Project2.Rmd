---
title: "Project 2"
author: "LeTicia Cancel"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Dataset #1
##### Source: [New York State Education Department](https://data.nysed.gov/downloads.php)
##### Data Description: ELA and Math test scores for grades 3-8 by state and county
**Note:** The original file is 57MB so I did minor manipulation using excel to create a smaller file. I copy and pasted all columns for the statewide data and each NYC county data to a new csv file. This is the only data manipulation done outside of R and this subset of data will be used in this project.

--------
#### Load all libraries
```{r warning=FALSE, results='hide', message=FALSE}
#install.packages("kableExtra") #install this package if it is not already installed
library(knitr)
library(dplyr)
library(tidyr)
library(ggplot2)
library(RCurl)
library(kableExtra)
library(tidyverse)
```


Load csv file
```{r}
df <- read.table(text = getURL("https://raw.githubusercontent.com/ltcancel/Project2/master/3-8%20ELA%20and%20Math%20Scores%20by%20County.csv"), header = TRUE, sep = ",")
head(df)
```

#### Create dataframes based on subgroups.
Bronx filter
```{r}
bronx.gender.df <- df %>% select(COUNTY_DESC, NAME, SUBGROUP_CODE, SUBGROUP_NAME, TOTAL_TESTED, MEAN_SCALE_SCORE) %>% filter(SUBGROUP_CODE %in% c(1:3), COUNTY_DESC %in% c("BRONX",""))
bronx.gender.df
ggplot(bronx.gender.df, aes(x=COUNTY_DESC, y=MEAN_SCALE_SCORE, color = SUBGROUP_NAME)) + geom_dotplot(binaxis = "y",stackdir = "center", binwidth = 1, fill = "white", stroke = 2) + labs(title = "Bronx Average Scores By Gender", x = "County", y = "Average Score")

##all genders by boro 
All.gender.df <- df %>% select(COUNTY_DESC, NAME, SUBGROUP_CODE, SUBGROUP_NAME, TOTAL_TESTED, MEAN_SCALE_SCORE) %>% filter(SUBGROUP_CODE %in% c(1:3), COUNTY_DESC !="") + facet_grid(.~fl)
All.gender.df

##all gender plot by boro
ggplot(All.gender.df, aes(x=COUNTY_DESC, y=MEAN_SCALE_SCORE, color = SUBGROUP_NAME)) + geom_dotplot(binaxis = "y",stackdir = "center", binwidth = 1, fill = "white", stroke = 2) + labs(title = "Bronx Average Scores By Gender", x = "County", y = "Average Score")

ggplot(bronx.df, aes(x=NAME, y=MEAN_SCALE_SCORE, color = SUBGROUP_NAME)) + geom_boxplot()
?geom_dotplot
```


Creating graphs for dataset 1
```{r}
ggplot(gender.df, aes(x=COUNTY_DESC, y=MEAN_SCALE_SCORE, color = SUBGROUP_NAME)) + geom_boxplot() + labs(title = "Average Scores by Gender", x = "County", y = "Average Score")
?summarize
```

Faceting dataset 1 - Race/Ethnicity subgroup
```{r}
race.df <- df %>% select(COUNTY_DESC, NAME, SUBGROUP_CODE, SUBGROUP_NAME, TOTAL_TESTED, MEAN_SCALE_SCORE) %>% filter(SUBGROUP_CODE == "1" | SUBGROUP_CODE %in% c(4:9))
colnames(race.df) <- c("COUNTY", "NAME", "SUB_CODE", "RACE_ETHNICITY", "TOTAL_TESTED", "MEAN_SCORE")
ggplot(race.df, aes(x=COUNTY, y=MEAN_SCORE)) + geom_raster(aes(fill = RACE_ETHNICITY), hjust = 0.2, vjust = 0.2, interpolate = FALSE ) + labs(title = "Average Score by Race/Ethnicity per County", x = "County", y = "Mean Score")
```



# Dataset #2
##### Source: [Open Intro](https://openintro.org/stat/data/pokemon.csv)
##### Data Description:
**Note:** A csv file containing Pokemon data will download to your machine when you click on the Open Intro link

Load csv file
```{r}
df2 <- read.csv(text = getURL("https://raw.githubusercontent.com/ltcancel/Project2/master/pokemon.csv"), header = TRUE, sep = ",")
df2
?read.csv
```




# Dataset #3
##### Source: [UFC-Fight historical data from 1993 to 2019](https://www.kaggle.com/rajeevw/ufcdata/version/2#raw_total_fight_data.csv)
##### Data Description: 

Load csv file
```{r}
df3 <- read.csv(text = getURL("https://raw.githubusercontent.com/ltcancel/Project2/master/raw_total_fight_data.csv"), header = TRUE, sep = ";")
head(df3)
```

